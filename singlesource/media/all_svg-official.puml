@startuml AzureMonitor
title Azure Monitor
!pragma revision 2

!include AzurePuml/AzureCommon.puml

left to right direction





rectangle "Sources" as sources {
  card "Application" <<$AzureStreamAnalytics>> as application
  card "Operating System" as operatingSystem
  card "Azure Resources" <<$AzureResourceGroups>> as rg
  card "Azure Subscription" <<$AzureSubscription>> as sub
  card "Azure Tenant" <<$AzureTenant>> as tenant
  card "Custom Sources" as cr
}
rectangle "Azure Monitor" <<$AzureMonitor>> as monitor {
    card "databases" as datab  {
        database "Metrics" as metrics
        database "Logs" as logs
    }
    rectangle " " as arch {
        rectangle "Insights" as insights {
            component "Application" <<$AzureHDInsight>> as application2 
            component "Container" <<$AzureEventHub>> as container
            component "VM" <<$AzureDataExplorer>> as vm
            component "Monitoring Solutions" <<$AzureDataLakeAnalytics>> as monitoring
        }
        rectangle "Visualize" as visualize {
            component "Dashboards" <<$AzureEventHub>> as dashboards 
            component "Views" <<$AzureEventHub>> as views
            component "Power BI" <<$AzureDataExplorer>> as powerbi
            component "Workbooks" <<$AzureDataLakeAnalytics>> as workbooks
        }
        rectangle "Analyze" as analyze {
            component "Metric Analytics" <<$AzureHDInsight>> as manalytics 
            component "Log Analytics" <<$AzureEventHub>> as lanalytics
        }
        rectangle "Respond" as respond {
            component "Alerts" <<$AzureAnalysisServices>> as alerts 
            component "Autoscale" <<$AzureEventHub>> as autoscale
        }
        rectangle "Integrate" as integrate {
            component "Logic Apps" <<$AzureHDInsight>> as logic 
            component "Export APIs" <<$AzureEventHub>> as export
        }
    }
}

application -le- operatingSystem
operatingSystem -le- rg
rg -le- sub
sub -le- tenant
tenant -le- cr
logs -le- metrics
sources --> datab
datab -[hidden]- arch
application2 -[hidden]- container
container -[hidden]- vm
vm -[hidden]- monitoring
dashboards -[hidden]- views
views -[hidden]- powerbi
powerbi -[hidden]- workbooks 
insights -[hidden]- visualize
visualize -[hidden]- analyze
analyze -[hidden]- respond
respond -[hidden]- integrate


/'
artifact --> AzureBotService
AzureCognitiveServices --> AzureMachineLearningService
AzureMachineLearningStudio --> MicrosoftGenomics
'Analytics/
AzureAnalysisServices --> AzureDatabricks
AzureDataCatalog --> AzureDataExplorer
AzureDataLakeAnalytics --> AzureEventHub
AzureHDInsight --> AzureStreamAnalytics
'Compute/
AzureAppService --> AzureBatch
AzureFunction --> AzureServiceFabric
AzureVirtualMachine --> AzureVirtualMachineScaleSet
'Containers/
AzureContainerInstance --> AzureContainerRegistry
AzureKubernetesService --> AzureServiceFabricMesh
AzureWebAppForContainers --> AzureDatabaseForMariaDB
AzureDatabaseForMySQL -->  AzureDatabaseForPostgreSQL
AzureDataFactory --> AzureRedisCache
AzureSqlDatabase --> AzureSqlDataWarehouse
AzureSqlStretchDatabase --> endcontainers
'DevOps/
AzureApplicationInsights --> AzureBoards
AzureDevOps --> AzureDevTestLabs
AzureLabServices --> AzurePipelines
AzureRepos --> AzureTestPlans
'General/
startgeneral --> Azure
'Identity/
AzureActiveDirectory --> AzureActiveDirectoryB2C
AzureActiveDirectoryDomainServices --> endidentity
'Integration/
AzureEventGrid --> AzureLogicApps
AzureServiceBus --> endintegration
'InternetOfThings/
AzureDigitalTwins --> AzureIoTCentral
AzureIoTEdge --> AzureIoTHub
AzureMaps --> AzureTimeSeriesInsights
'Management/
AzureAutomation --> AzureBackup
AzureBlueprints --> AzureLogAnalytics
AzureManagedApplications --> AzureManagementGroups
AzureMonitor --> AzurePolicy
AzureResourceGroups --> AzureScheduler
AzureSiteRecovery --> AzureSubscription
'Media/
AzureMediaServices -->  endmedia
'Mobile/
AzureMobileApp --> AzureNotificationHubs
'Networking/
AzureApplicationGateway --> AzureAzureDDoSProtection
AzureDNS --> AzureExpressRoute
AzureFrontDoorService --> AzureLoadBalancer
AzureTrafficManager --> AzureVirtualNetwork
AzureVirtualWAN --> AzureVPNGateway
'Security/
AzureKeyVault --> AzureSentinel
'Storage/
AzureBlobStorage --> AzureDataBox
AzureDataLakeStorage --> AzureDiskStorage
AzureFileStorage --> AzureManagedDisks
AzureNetAppFiles --> AzureQueueStorage
AzureStorage --> AzureStorSimple
'Web/
AzureAPIManagement --> AzureCDN
AzureSearch --> AzureSignalRService
AzureWebApp -->  endweb
'/
@enduml