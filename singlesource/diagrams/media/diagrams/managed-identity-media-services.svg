<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="281px" preserveAspectRatio="none" style="width:366px;height:281px;" version="1.1" viewBox="0 0 366 281" width="366px" zoomAndPan="magnify"><defs/><g><!--MD5=[d611d087c28c71fa091ebd52295d0890]
entity ManagedIdentities--><rect fill="#FFFFFF" height="105.9219" style="stroke:#3C7FC0;stroke-width:0.0;" width="74" x="28.5" y="7"/><svg x="38.5" y="17"><defs><linearGradient id="bb67b154-af8f-4a53-a9ce-aa046b9398e9" x1="13.18" y1="13.01" x2="8.63" y2="4.38" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#1988d9" /><stop offset="0.9" stop-color="#54aef0" /></linearGradient><linearGradient id="a47d7138-084a-471d-8d63-744e75b9e8a3" x1="11.22" y1="10.5" x2="14.37" y2="15.93" gradientUnits="userSpaceOnUse"><stop offset="0.1" stop-color="#54aef0" /><stop offset="0.29" stop-color="#4fabee" /><stop offset="0.51" stop-color="#41a2e9" /><stop offset="0.74" stop-color="#2a93e0" /><stop offset="0.88" stop-color="#1988d9" /></linearGradient></defs><title>Icon-identity-227</title><g transform="scale(3,3)" ><polygon points="1.15 10.22 8.93 15.27 16.85 10.21 17.85 11.36 8.93 17.11 0.15 11.37 1.15 10.22" fill="#50e6ff" /><polygon points="1.73 9.58 8.93 1 16.28 9.59 8.93 14.23 1.73 9.58" fill="#fff" /><polygon points="8.93 1 8.93 14.23 1.73 9.58 8.93 1" fill="#50e6ff" /><polygon points="8.93 1 8.93 14.23 16.28 9.59 8.93 1" fill="url(#bb67b154-af8f-4a53-a9ce-aa046b9398e9)" /><polygon points="8.93 7.83 16.28 9.59 8.93 14.23 8.93 7.83" fill="#53b1e0" /><polygon points="8.93 14.23 1.73 9.58 8.93 7.83 8.93 14.23" fill="#9cebff" /><polygon points="8.93 17.11 17.85 11.36 16.85 10.21 8.93 15.27 8.93 17.11" fill="url(#a47d7138-084a-471d-8d63-744e75b9e8a3)" /><g><path id="e189a61f-631a-4122-bb2b-079e86004d96" d="M16.32,11.88a1.16,1.16,0,0,0,0-1.65h0l-2-2a1.16,1.16,0,0,0-1.64,0h0l-2,2a1.18,1.18,0,0,0,0,1.65l1.67,1.67a.32.32,0,0,1,.09.23v3.1a.36.36,0,0,0,.12.28l.76.76a.25.25,0,0,0,.37,0l.73-.73h0l.44-.44a.15.15,0,0,0,0-.21l-.31-.31a.16.16,0,0,1,0-.24l.31-.31a.16.16,0,0,0,0-.22l-.31-.31a.15.15,0,0,1,0-.23l.31-.32a.15.15,0,0,0,0-.21l-.44-.44v-.16ZM13.5,8.71a.66.66,0,1,1-.66.66.66.66,0,0,1,.66-.66Z" fill="#ffca00" /><path id="fb7033ee-4650-4886-80c7-eddf62560f85" d="M13,17h0a.14.14,0,0,0,.24-.11V14.33a.16.16,0,0,0-.06-.13h0a.14.14,0,0,0-.22.13v2.51A.15.15,0,0,0,13,17Z" fill="#ff9300" opacity="0.75" /><rect id="b166b8c2-b9ee-4c3d-bf7a-77bd5ce0570b" x="11.9" y="10.9" width="3.29" height="0.39" rx="0.18" fill="#ff9300" opacity="0.75" /><rect id="baf437fe-3483-4a25-94ba-1e84a64cd2eb" x="11.9" y="11.53" width="3.29" height="0.39" rx="0.18" fill="#ff9300" opacity="0.75" /></g></g></svg><text fill="#000000" font-family="Segoe UI" font-size="12" lengthAdjust="spacing" textLength="50" x="39" y="83.9492">Managed</text><text fill="#000000" font-family="Segoe UI" font-size="12" lengthAdjust="spacing" textLength="48" x="41.5" y="99.9102">Identities</text><!--MD5=[26a6261244769d6a1615a7ec6b207040]
entity StorageAccounts--><rect fill="#FFFFFF" height="89.9609" style="stroke:#3C7FC0;stroke-width:0.0;" width="113" x="138" y="15"/><svg x="167.5" y="25"><g transform="scale(3,3)" ><defs><linearGradient id="ad4c4f96-09aa-4f91-ba10-5cb8ad530f74" x1="9" y1="15.83" x2="9" y2="5.79" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#b3b3b3" /><stop offset="0.26" stop-color="#c1c1c1" /><stop offset="1" stop-color="#e6e6e6" /></linearGradient></defs><title>Icon-storage-86</title><path d="M.5,5.79h17a0,0,0,0,1,0,0v9.48a.57.57,0,0,1-.57.57H1.07a.57.57,0,0,1-.57-.57V5.79A0,0,0,0,1,.5,5.79Z" fill="url(#ad4c4f96-09aa-4f91-ba10-5cb8ad530f74)" /><path d="M1.07,2.17H16.93a.57.57,0,0,1,.57.57V5.79a0,0,0,0,1,0,0H.5a0,0,0,0,1,0,0V2.73A.57.57,0,0,1,1.07,2.17Z" fill="#37c2b1" /><path d="M2.81,6.89H15.18a.27.27,0,0,1,.26.27v1.4a.27.27,0,0,1-.26.27H2.81a.27.27,0,0,1-.26-.27V7.16A.27.27,0,0,1,2.81,6.89Z" fill="#fff" /><path d="M2.82,9.68H15.19a.27.27,0,0,1,.26.27v1.41a.27.27,0,0,1-.26.27H2.82a.27.27,0,0,1-.26-.27V10A.27.27,0,0,1,2.82,9.68Z" fill="#37c2b1" /><path d="M2.82,12.5H15.19a.27.27,0,0,1,.26.27v1.41a.27.27,0,0,1-.26.27H2.82a.27.27,0,0,1-.26-.27V12.77A.27.27,0,0,1,2.82,12.5Z" fill="#258277" /></g></svg><text fill="#000000" font-family="Segoe UI" font-size="12" lengthAdjust="spacing" textLength="93" x="148" y="91.9492">Storage Accounts</text><!--MD5=[d0f325fb19a86c843a890864cb33de93]
entity KeyVaults--><rect fill="#FFFFFF" height="86.9609" style="stroke:#3C7FC0;stroke-width:0.0;" width="74" x="286.5" y="16.5"/><svg x="298" y="26.5"><g transform="scale(3,3)" >  <defs>    <radialGradient id="radial-gradient" cx="8.5" cy="11.5" r="8.5" gradientTransform="matrix(1, 0, 0, -1, 0, 20)" gradientUnits="userSpaceOnUse">      <stop offset="0.18" stop-color="#5ea0ef"/>      <stop offset="0.56" stop-color="#5c9fee"/>      <stop offset="0.69" stop-color="#559ced"/>      <stop offset="0.78" stop-color="#4a97e9"/>      <stop offset="0.86" stop-color="#3990e4"/>      <stop offset="0.93" stop-color="#2387de"/>      <stop offset="0.99" stop-color="#087bd6"/>      <stop offset="1" stop-color="#0078d4"/>    </radialGradient>    <radialGradient id="radial-gradient-2" cx="57.31" cy="-186.18" r="9.88" gradientTransform="matrix(0.94, 0, 0, -0.94, -46.47, -167.6)" gradientUnits="userSpaceOnUse">      <stop offset="0.27" stop-color="#ffd70f"/>      <stop offset="0.49" stop-color="#ffcb12"/>      <stop offset="0.88" stop-color="#feac19"/>      <stop offset="1" stop-color="#fea11b"/>    </radialGradient>  </defs>  <path id="aacf8311-a317-400f-b613-74bd00da5ce3" d="M8.5,0A8.5,8.5,0,1,0,17,8.5,8.51,8.51,0,0,0,8.5,0Zm0,15.84A7.34,7.34,0,1,1,15.84,8.5h0A7.34,7.34,0,0,1,8.5,15.84Z" fill="url(#radial-gradient)"/>  <circle cx="8.5" cy="8.5" r="7.34" fill="#fff"/>  <path id="bd983c41-db73-40ec-a4f4-da1213fc9924" d="M12.94,6.83a1.84,1.84,0,0,0,0-2.59h0L9.79,1.08a1.83,1.83,0,0,0-2.58,0h0L4.06,4.24a1.84,1.84,0,0,0,0,2.59L6.68,9.5a.49.49,0,0,1,.15.36v4.88a.62.62,0,0,0,.18.44l1.2,1.2a.41.41,0,0,0,.58,0h0L10,15.22h0l.68-.68a.25.25,0,0,0,0-.34l-.49-.49a.27.27,0,0,1,0-.37l.49-.49a.25.25,0,0,0,0-.34L10.14,12a.27.27,0,0,1,0-.37l.49-.49a.25.25,0,0,0,0-.34L10,10.13V9.88Zm-4.44-5a1,1,0,1,1-1,1A1,1,0,0,1,8.5,1.85Z" fill="url(#radial-gradient-2)"/>  <path id="ad2e7e44-9bfd-4775-8bf4-8ef26a544921" d="M7.68,14.8h0a.23.23,0,0,0,.32,0,.22.22,0,0,0,.06-.15v-4a.23.23,0,0,0-.11-.2H8a.21.21,0,0,0-.3.06.23.23,0,0,0,0,.14v4A.28.28,0,0,0,7.68,14.8Z" fill="#ff9300" opacity="0.75" style="isolation: isolate"/>  <rect id="a996fbff-3936-4b24-b407-369336c143ba" x="5.98" y="5.29" width="5.17" height="0.61" rx="0.28" fill="#ff9300" opacity="0.75" style="isolation: isolate"/>  <rect id="bb12d31c-3352-4a18-87dd-a169a4a8721d" x="5.98" y="6.28" width="5.17" height="0.61" rx="0.28" fill="#ff9300" opacity="0.75" style="isolation: isolate"/></g></svg><text fill="#000000" font-family="Segoe UI" font-size="12" lengthAdjust="spacing" textLength="54" x="296.5" y="90.4492">Key Vaults</text><!--MD5=[32287b527805fc2832cad53879aafec1]
entity AMSazuremediaservice--><rect fill="#FFFFFF" height="102.9219" style="stroke:#3C7FC0;stroke-width:0.0;" width="117" x="7" y="173"/><svg x="40" y="183"><g transform="scale(3,3)" >  <defs>    <linearGradient id="linear-gradient" x1="-295.37" y1="1216.97" x2="-277.77" y2="1247.52" gradientTransform="matrix(0.5, 0.87, 0.87, -0.5, -919.28, 867.42)" gradientUnits="userSpaceOnUse">      <stop offset="0" stop-color="#005ba1"/>      <stop offset="0.37" stop-color="#004e8f"/>      <stop offset="1" stop-color="#003067"/>    </linearGradient>    <linearGradient id="linear-gradient-2" x1="-2173.64" y1="-328.49" x2="-2152.26" y2="-290.99" gradientTransform="matrix(-0.5, -0.87, -0.87, 0.5, -1341.63, -1703.73)" gradientUnits="userSpaceOnUse">      <stop offset="0" stop-color="#005ba1"/>      <stop offset="0.45" stop-color="#004685"/>      <stop offset="1" stop-color="#003067"/>    </linearGradient>    <linearGradient id="linear-gradient-3" x1="5.8" y1="5.75" x2="7.25" y2="13.99" gradientTransform="matrix(1, 0, 0, -1, 0, 20)" gradientUnits="userSpaceOnUse">      <stop offset="0.26" stop-color="#50e6ff"/>      <stop offset="0.42" stop-color="#79eaff"/>      <stop offset="0.58" stop-color="#99edff"/>      <stop offset="0.73" stop-color="#b0efff"/>      <stop offset="0.88" stop-color="#bef1ff"/>      <stop offset="1" stop-color="#c3f1ff"/>    </linearGradient>  </defs>  <path d="M9,3.73l4.38,2.51,3-1.76a8.79,8.79,0,0,0-12-3.35,8.38,8.38,0,0,0-1.95,1.5A10,10,0,0,1,9,3.73Z" fill="url(#linear-gradient)"/>  <path d="M13.36,6.24l-.07,6,3.17.85a8.8,8.8,0,0,0-3.32-12,9,9,0,0,0-1.92-.8A10.44,10.44,0,0,1,13.36,6.24Z" fill="#0078d4"/>  <path d="M13.35,11.45,8.8,14.08l.07,3.5a8.81,8.81,0,0,0,8.77-8.8,8.64,8.64,0,0,0-.29-2.09A9.61,9.61,0,0,1,13.35,11.45Z" fill="#5ea0ef"/>  <path d="M8.8,14.08,4.25,11.45l-3,1.81A8.77,8.77,0,0,0,14.9,15.14,9.93,9.93,0,0,1,8.8,14.08Z" fill="url(#linear-gradient-2)"/>  <path d="M4.24,11.45l.07-6.24L1.19,4.39A8.79,8.79,0,0,0,6.54,17.3,10.15,10.15,0,0,1,4.24,11.45Z" fill="#0078d4"/>  <path d="M4.4,6.1,8.8,3.56A10.59,10.59,0,0,0,2.86,2.31,8.77,8.77,0,0,0,0,8.8a9.13,9.13,0,0,0,.31,2.32A10.29,10.29,0,0,1,4.4,6.1Z" fill="#5ea0ef"/>  <polygon points="13.35 11.45 13.35 6.19 8.8 3.56 4.24 6.19 4.24 11.45 8.8 14.08 13.35 11.45" fill="#c3f1ff"/>  <polygon points="8.8 8.87 8.8 14.08 4.24 11.45 4.24 6.21 8.8 8.87" fill="url(#linear-gradient-3)"/>  <polygon points="8.8 8.87 8.8 14.08 13.36 11.45 13.36 6.21 8.8 8.87" fill="#50e6ff"/></g></svg><text fill="#000000" font-family="Segoe UI" font-size="12" lengthAdjust="spacing" textLength="94" x="17" y="246.9492">AMS Azure Media</text><text fill="#000000" font-family="Segoe UI" font-size="12" lengthAdjust="spacing" textLength="42" x="44.5" y="262.9102">Services</text><!--MD5=[b3106fa45e7abae0e9fd04eecb4873e1]
entity FunctionApps--><rect fill="#FFFFFF" height="80.9609" style="stroke:#3C7FC0;stroke-width:0.0;" width="97" x="159" y="184"/><svg x="182" y="194"><g transform="scale(3,3)" >  <defs>    <linearGradient id="linear-gradient" x1="-214.75" y1="391.33" x2="-214.75" y2="406.83" gradientTransform="matrix(1.16, 0, 0, -1.03, 257.35, 418.51)" gradientUnits="userSpaceOnUse">      <stop offset="0" stop-color="#fea11b"/>      <stop offset="0.28" stop-color="#fea51a"/>      <stop offset="0.55" stop-color="#feb018"/>      <stop offset="0.8" stop-color="#ffc314"/>      <stop offset="1" stop-color="#ffd70f"/>    </linearGradient>  </defs>  <path d="M5.48,12.08l-.58.59a.28.28,0,0,1-.38,0h0L.17,8.33a.55.55,0,0,1,0-.76L.75,7h0L5.48,11.7a.27.27,0,0,1,0,.38h0Z" fill="#50e6ff"/>  <path d="M4.81,3.28l.58.59a.27.27,0,0,1,0,.38L.75,8.91h0L.16,8.32a.53.53,0,0,1,0-.75L4.43,3.28A.28.28,0,0,1,4.81,3.28Z" fill="#1490df"/>  <path d="M17.13,7l.59.59a.53.53,0,0,1,0,.75l-4.35,4.34a.26.26,0,0,1-.38,0h0l-.59-.58a.28.28,0,0,1,0-.38h0L17.13,7Z" fill="#50e6ff"/>  <path d="M17.72,8.32l-.59.59h0L12.49,4.24a.25.25,0,0,1,0-.37h0l.59-.59a.25.25,0,0,1,.37,0h0l4.28,4.28a.56.56,0,0,1,0,.76Z" fill="#1490df"/>  <path d="M8.4,8.88H4.81a.2.2,0,0,1-.2-.18.19.19,0,0,1,0-.08L8.93.11A.21.21,0,0,1,9.12,0h4.24a.19.19,0,0,1,.2.18.17.17,0,0,1,0,.1l-5,6.66H13.4a.19.19,0,0,1,.2.18.21.21,0,0,1,0,.13L5.36,15.76c-.07.05-.62.5-.35-.18H5Z" fill="url(#linear-gradient)"/></g></svg><text fill="#000000" font-family="Segoe UI" font-size="12" lengthAdjust="spacing" textLength="77" x="169" y="251.9492">Function Apps</text><!--MD5=[3beb2264c7738bd61b7338e881c7563c]
link ManagedIdentities to StorageAccounts--><!--MD5=[c4b55367b3f5ba6428f20586a35d694f]
link StorageAccounts to KeyVaults--><!--MD5=[a440a3b77899d1a26a4928c5aef131ce]
link ManagedIdentities to AMSazuremediaservice--><!--MD5=[a798f7165c34d1417bbc80ae3ea9d47d]
link AMSazuremediaservice to FunctionApps--><!--MD5=[88e07523a2dc2ca0005a00da1fc13856]
@startuml

!include ../../includes/AzureCommon.puml 

sprite $ManagedIdentities ../../media/icons/Identity/10227-icon-service-Managed-Identities.svg
rectangle "Managed Identities" <<$ManagedIdentities{scale=3}>> as ManagedIdentities
sprite $StorageAccounts ../../media/icons/Storage/10086-icon-service-Storage-Accounts.svg
rectangle "Storage Accounts" <<$StorageAccounts{scale=3}>> as StorageAccounts
sprite $KeyVaults ../../media/icons/Security/10245-icon-service-Key-Vaults2.svg
rectangle "Key Vaults" <<$KeyVaults{scale=3}>> as KeyVaults
sprite $AMSazuremediaservice ../../media/icons/MediaServices/Icon-web-309-azuremediaservice3.svg
rectangle "AMS Azure Media Services" <<$AMSazuremediaservice{scale=3}>> as AMSazuremediaservice
sprite $FunctionApps ../../media/icons/Compute/10029-icon-service-Function-Apps2.svg
rectangle "Function Apps" <<$FunctionApps{scale=3}>> as FunctionApps
@enduml

@startuml



skinparam defaultTextAlignment center
skinparam defaultFontName Segoe UI
skinparam defaultBackgroundColor white
skinparam RectangleBackgroundColor white
skinparam RectangleBorderColor #3C7FC0
skinparam WrapWidth 100

skinparam rectangle {
    FontSize 12
    BorderThickness 0
    Shadowing false
}

sprite $ManagedIdentities ../../media/icons/Identity/10227-icon-service-Managed-Identities.svg
rectangle "Managed Identities" <<$ManagedIdentities{scale=3}>> as ManagedIdentities
sprite $StorageAccounts ../../media/icons/Storage/10086-icon-service-Storage-Accounts.svg
rectangle "Storage Accounts" <<$StorageAccounts{scale=3}>> as StorageAccounts
sprite $KeyVaults ../../media/icons/Security/10245-icon-service-Key-Vaults2.svg
rectangle "Key Vaults" <<$KeyVaults{scale=3}>> as KeyVaults
sprite $AMSazuremediaservice ../../media/icons/MediaServices/Icon-web-309-azuremediaservice3.svg
rectangle "AMS Azure Media Services" <<$AMSazuremediaservice{scale=3}>> as AMSazuremediaservice
sprite $FunctionApps ../../media/icons/Compute/10029-icon-service-Function-Apps2.svg
rectangle "Function Apps" <<$FunctionApps{scale=3}>> as FunctionApps
@enduml

PlantUML version 1.2021.00(Sun Jan 10 02:25:05 PST 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>